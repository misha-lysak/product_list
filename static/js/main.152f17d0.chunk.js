(this.webpackJsonpproduct_list=this.webpackJsonpproduct_list||[]).push([[0],{147:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(49),o=n.n(r),i=n(117),u=n(72),s=n.n(u),l=n(83),j=n(12),d="https://6067460a98f405001728eaa3.mockapi.io/product-list/products",b=function(){return fetch(d).then((function(e){if(!e.ok)throw new Error("can't upload your data");return e.json()}))},h=function(e,t){return fetch("".concat(e),t).then((function(e){if(!e.ok)throw new Error("can\n't upload your comment");return e.json()}))},O=(n(147),n(148),n(171)),m=n(10),p=n.n(m),x=n(170),f=n(131),g=n(76),C=n(169),v=n(167),w=n(2),y=function(e){var t=e.productId,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),u=Object(j.a)(i,2),s=u[0],l=u[1],b=Object(c.useState)(!0),h=Object(j.a)(b,2),m=h[0],p=h[1],x=Object(c.useCallback)((function(e){var n=e.target.value;p(!0),l({description:n,id:+new Date,productId:t,date:+new Date})}),[]),f=Object(c.useCallback)((function(){void 0!==s.description?(!function(e,t){fetch("".concat(d,"/").concat(e,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}(t,s),l(""),o(!1),p(!0)):p(!1)}),[s,r]);return console.log(s),Object(w.jsx)(C.a,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,trigger:Object(w.jsx)(O.a,{children:"Add new comment"}),children:Object(w.jsx)(C.a.Content,{children:Object(w.jsxs)(v.a,{onSubmit:f,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.text,name:"text",type:"text",label:"Comment",placeholder:"Comment"}),!m&&Object(w.jsx)("div",{className:"error",children:"Write some comment"})]}),Object(w.jsx)(O.a,{type:"submit",children:"Submit"}),Object(w.jsx)(O.a,{onClick:function(){return o(!1)},type:"reset",children:"Cancel"})]})})})},k=n(64),S=n(32),I=function(e){var t=e.product,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(t),u=Object(j.a)(i,2),s=u[0],l=u[1],b=Object(c.useState)(!0),h=Object(j.a)(b,2),m=h[0],p=h[1],x=Object(c.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;p(!0),"height"===n&&l((function(e){return Object(S.a)(Object(S.a)({},e),{},{size:{height:c}})})),"width"===n&&l((function(e){return Object(S.a)(Object(S.a)({},e),{},{size:{width:c}})})),l((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(k.a)({},n,c))}))}),[]);console.log(t);var f=Object(c.useCallback)((function(){void 0!==s.name&&void 0!==s.id&&void 0!==s.imageUrl&&void 0!==s.count&&void 0!==s.size.width&&void 0!==s.size.height&&void 0!==s.weight?(!function(e,t){fetch("".concat(d,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})}(t.id,s),l(t),o(!1),p(!0)):p(!1)}),[s]);return console.log("new",s),Object(w.jsxs)(C.a,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,trigger:Object(w.jsx)(O.a,{children:"Edit"}),children:[Object(w.jsx)(C.a.Header,{children:"Edit"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsxs)(v.a,{onSubmit:f,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.name,name:"name",type:"text",label:"Product name",placeholder:"Product name"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.imageUrl,name:"imageUrl",type:"text",label:"Image Url",placeholder:"Image Url"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.count,name:"count",type:"number",label:"Count",placeholder:"Count"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.size.width,name:"width",type:"number",label:"Width",placeholder:"Width"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.size.height,name:"height",type:"number",label:"Height",placeholder:"Height"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:s.weight,name:"weight",type:"text",label:"Weight",placeholder:"Weight"})]}),!m&&Object(w.jsx)("div",{className:"error",children:"All input are required"}),Object(w.jsx)(O.a,{type:"submit",children:"Submit"}),Object(w.jsx)(O.a,{onClick:function(){return o(!1)},type:"reset",children:"Cancel"})]})})]})},N=function(e){var t=e.closeDescription,n=e.selectedProduct,a=Object(c.useState)(null),r=Object(j.a)(a,2),o=r[0],i=r[1];Object(c.useEffect)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,t=n,c=void 0,fetch("".concat(d,"/").concat(t),c).then((function(e){if(!e.ok)throw new Error("can\n't upload your data");return e.json()}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}var t,c}),e)}))),[]);var u=function(e,t){!function(e,t){h("".concat(d,"/").concat(e,"/comments/").concat(t),{method:"DELETE"})}(e,t)};return console.log(o),Object(w.jsx)(w.Fragment,{children:o&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"card",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(f.a,{src:o.imageUrl,alt:"product img"},p()("img")),Object(w.jsxs)(x.a.Content,{children:[Object(w.jsx)(x.a.Header,{children:o.name},p()("product-header")),Object(w.jsx)(x.a.Meta,{children:Object(w.jsx)("span",{children:"Count: ".concat(o.count," | width: ").concat(o.size.width," | height: ").concat(o.size.height," | ").concat(o.weight)},p()("product-description"))},p()("product-meta")),Object(w.jsx)("h4",{children:"Comments"},p()("comments-text")),o.comments?o.comments.map((function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a.Description,{children:e.description},p()(e.description)),Object(w.jsx)("button",{onClick:function(){return u(o.id,e.id)},className:"delete",children:"Delete"},p()("delete")),Object(w.jsx)("hr",{})]})})):""]},p()("card-content")),Object(w.jsx)(x.a.Content,{extra:!0,children:Object(w.jsxs)("a",{children:[Object(w.jsx)(g.a,{}),"Total comments: ".concat(o.comments.length)]},p()("total-comments"))},p()("content-extra")),Object(w.jsx)(y,{productId:o.id},p()("add-comment")),Object(w.jsx)(I,{product:o,productId:o.id},p()("add-comment"))]},p()("card"))}),Object(w.jsx)("button",{className:"close",onClick:t,children:"Close"},p()("close"))]})})},U=function(e){var t=e.id,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],o=a[1],i=function(){!function(e){h("".concat(d,"/").concat(e),{method:"DELETE"})}(t),o(!1)};return Object(w.jsxs)(C.a,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,trigger:Object(w.jsx)(O.a,{children:"Delete"}),children:[Object(w.jsx)(C.a.Header,{children:"Delete"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsx)(C.a.Description,{children:Object(w.jsx)("p",{children:"Are you sure in your choose?"})})}),Object(w.jsxs)(C.a.Actions,{children:[Object(w.jsx)(O.a,{color:"black",onClick:function(){return o(!1)},children:"No"}),Object(w.jsx)(O.a,{content:"Yes",labelPosition:"right",icon:"archive",onClick:function(){return i()},positive:!0})]})]})},E=n(168),D=function(e){var t=e.product,n=e.openProduct;return Object(w.jsx)(E.a.Group,{className:"card-container",children:Object(w.jsxs)(E.a,{className:"card",children:[Object(w.jsx)(E.a.Image,{size:"small",src:t.imageUrl},p()(t.imageUrl)),Object(w.jsxs)(E.a.Content,{children:[Object(w.jsx)(E.a.Header,{children:t.name},p()(t.name)),Object(w.jsxs)(E.a.Meta,{children:[Object(w.jsx)("span",{className:"price",children:"Count: ".concat(t.count," |")},p()(t.count)),Object(w.jsx)("span",{className:"stay",children:t.weight},p()(t.weight))]},p()("item-meta")),Object(w.jsx)("p",{onClick:function(){return n(t.id)},className:"comments",comments:t.comments,children:"Description"},p()("comment"))]},p()("item-content")),Object(w.jsx)(U,{id:t.id})]},p()("card"))},p()(t.id))},P=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],u=o[1],s=Object(c.useState)(!0),l=Object(j.a)(s,2),b=l[0],h=l[1],m=Object(c.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;h(!0),u((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(k.a)({id:+new Date},n,c))}))}),[]),p=Object(c.useCallback)((function(){void 0!==i.productName&&void 0!==i.id&&void 0!==i.imageUrl&&void 0!==i.count&&void 0!==i.width&&void 0!==i.height&&void 0!==i.weight?(!function(e){fetch("".concat(d),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:e.id,imageUrl:e.imageUrl,name:e.productName,count:e.count,size:{height:e.height,width:e.width},weight:"weight ".concat(e.weight)})}).then((function(e){return e.json()}))}(i),u(""),a(!1),h(!0)):h(!1)}),[i]);return Object(w.jsxs)(C.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:n,trigger:Object(w.jsx)(O.a,{children:"Add new product"}),children:[Object(w.jsx)(C.a.Header,{children:"Create product"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsxs)(v.a,{onSubmit:p,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.productName,name:"productName",type:"text",label:"Product name",placeholder:"Product name"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.imageUrl,name:"imageUrl",type:"text",label:"Image Url",placeholder:"Image Url"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.count,name:"count",type:"number",label:"Count",placeholder:"Count"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.width,name:"width",type:"number",label:"Width",placeholder:"Width"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.height,name:"height",type:"number",label:"Height",placeholder:"Height"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return m(e)},value:i.weight,name:"weight",type:"number",label:"Weight",placeholder:"Weight"})]}),!b&&Object(w.jsx)("div",{className:"error",children:"All input are required"}),Object(w.jsx)(O.a,{type:"submit",children:"Submit"}),Object(w.jsx)(O.a,{onClick:function(){return a(!1)},type:"reset",children:"Cancel"})]})})]})};var z=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),u=o[0],d=o[1],h=Object(c.useState)({}),m=Object(j.a)(h,2),x=m[0],f=m[1];Object(c.useEffect)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,b();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[b]);var g=Object(c.useCallback)((function(){d(!1)}),[]),C=Object(c.useCallback)((function(e){switch(e){case"name":a((function(e){return Object(i.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}))}));break;case"count":a((function(e){return Object(i.a)(e).sort((function(e,t){return e.count-t.count}))}))}}),[]),v=Object(c.useCallback)((function(e){d(!0),f(e)}),[]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{onClick:function(){return C("name")},children:"Sort by name"},p()("button-name")),Object(w.jsx)(O.a,{onClick:function(){return C("count")},children:"Sort by count"},p()("button-count")),Object(w.jsx)(P,{}),Object(w.jsx)("div",{className:"App",children:!u&&n.map((function(e){return Object(w.jsx)(D,{product:e,openProduct:v},p()("card"))}))}),u&&Object(w.jsx)(N,{selectedProduct:x,closeDescription:g},p()(123))]})};o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(z,{})}),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.152f17d0.chunk.js.map