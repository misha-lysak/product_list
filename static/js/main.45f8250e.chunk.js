(this.webpackJsonpproduct_list=this.webpackJsonpproduct_list||[]).push([[0],{149:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(49),o=n.n(r),i=n(76),u=n(72),s=n.n(u),l=n(84),j=n(12),d=(n(148),n(149),n(10)),b=n.n(d),h=n(173),O="https://6067460a98f405001728eaa3.mockapi.io/product-list/products",m=function(e,t){return fetch("".concat(e),t).then((function(e){if(!e.ok)throw new Error("can\n't upload your comment");return e.json()}))},p=function(e,t){return fetch("".concat(O,"/").concat(e),t).then((function(e){if(!e.ok)throw new Error("can\n't upload your data");return e.json()}))},f=n(172),x=n(132),g=n(77),C=n(171),v=n(169),w=n(2),y=function(e){var t=e.productId,n=e.onAddComment,a=Object(c.useState)(!1),r=Object(j.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(""),s=Object(j.a)(u,2),l=s[0],d=s[1],b=Object(c.useState)(!0),m=Object(j.a)(b,2),p=m[0],f=m[1],x=Object(c.useCallback)((function(e){var n=e.target.value;f(!0),d({description:n,id:+new Date,productId:t,date:+new Date})}),[]),g=Object(c.useCallback)((function(){void 0!==l.description?(!function(e,t){fetch("".concat(O,"/").concat(e,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}(t,l),n(l),d(""),i(!1),f(!0)):f(!1)}),[l,o]);return Object(w.jsx)(C.a,{onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:o,trigger:Object(w.jsx)(h.a,{children:"Add new comment"}),children:Object(w.jsx)(C.a.Content,{children:Object(w.jsxs)(v.a,{onSubmit:g,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return x(e)},value:l.text,name:"text",type:"text",label:"Comment",placeholder:"Comment"}),!p&&Object(w.jsx)("div",{className:"error",children:"Write some comment"})]}),Object(w.jsx)(h.a,{type:"submit",children:"Submit"}),Object(w.jsx)(h.a,{onClick:function(){return i(!1)},type:"reset",children:"Cancel"})]})})})},k=n(64),S=n(32),I=function(e){var t=e.product,n=e.onEditProduct,a=Object(c.useState)(!1),r=Object(j.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(t),s=Object(j.a)(u,2),l=s[0],d=s[1],b=Object(c.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;"height"===n&&d((function(e){return Object(S.a)(Object(S.a)({},e),{},{size:{height:c}})})),"width"===n&&d((function(e){return Object(S.a)(Object(S.a)({},e),{},{size:{width:c}})})),d((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(k.a)({},n,c))}))}),[]),m=Object(c.useCallback)((function(){!function(e,t){fetch("".concat(O,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})}(t.id,l),n(l),d(t),i(!1)}),[l]);return Object(w.jsxs)(C.a,{onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:o,trigger:Object(w.jsx)(h.a,{children:"Edit"}),children:[Object(w.jsx)(C.a.Header,{children:"Edit"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsxs)(v.a,{onSubmit:m,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.name,name:"name",type:"text",label:"Product name",placeholder:"Product name"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.imageUrl,name:"imageUrl",type:"text",label:"Image Url",placeholder:"Image Url"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.count,name:"count",type:"number",label:"Count",placeholder:"Count"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.size.width,name:"width",type:"number",label:"Width",placeholder:"Width"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.size.height,name:"height",type:"number",label:"Height",placeholder:"Height"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return b(e)},value:l.weight,name:"weight",type:"text",label:"Weight",placeholder:"Weight"})]}),Object(w.jsx)(h.a,{type:"submit",children:"Submit"}),Object(w.jsx)(h.a,{onClick:function(){return i(!1)},type:"reset",children:"Cancel"})]})})]})},U=function(e){var t=e.closeDescription,n=e.selectedProduct,a=Object(c.useState)(null),r=Object(j.a)(a,2),o=r[0],u=r[1],d=Object(c.useState)(null),h=Object(j.a)(d,2),C=h[0],v=h[1];Object(c.useEffect)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,p(n);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=v,e.next=8,p("".concat(n,"/comments"));case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)}))),[]);var k=Object(c.useCallback)((function(e){v((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),S=Object(c.useCallback)((function(e,t){k(t),function(e,t){m("".concat(O,"/").concat(e,"/comments/").concat(t),{method:"DELETE"})}(e,t)}),[]);return Object(w.jsx)(w.Fragment,{children:null!==o&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"card",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)(x.a,{src:o.imageUrl,alt:"product img"},b()("img")),Object(w.jsxs)(f.a.Content,{children:[Object(w.jsx)(f.a.Header,{children:o.name},b()("product-header")),Object(w.jsx)(f.a.Meta,{children:Object(w.jsx)("span",{children:"Count: ".concat(o.count," | width: ").concat(o.size.width," | height: ").concat(o.size.height," | ").concat(o.weight)},b()("product-description"))},b()("product-meta")),Object(w.jsx)("h4",{children:"Comments"},b()("comments-text")),C?C.map((function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a.Description,{children:e.description},b()(e.description)),Object(w.jsx)("button",{onClick:function(){return S(o.id,e.id)},className:"delete",children:"Delete"},b()("delete")),Object(w.jsx)("hr",{})]})})):""]},b()("card-content")),Object(w.jsx)(f.a.Content,{extra:!0,children:Object(w.jsxs)("a",{children:[Object(w.jsx)(g.a,{}),"Total comments: ".concat(o.comments.length)]},b()("total-comments"))},b()("content-extra")),Object(w.jsx)(y,{onAddComment:function(e){v((function(t){return[].concat(Object(i.a)(t),[e])}))},productId:o.id},b()("add-comment")),Object(w.jsx)(I,{onEditProduct:function(e){u(e)},product:o,productId:o.id},b()("add-comment"))]},b()("card"))}),Object(w.jsx)("button",{className:"close",onClick:t,children:"Close"},b()("close"))]})})},D=n(170),E=function(e){var t=e.id,n=e.onDelete,a=Object(c.useState)(!1),r=Object(j.a)(a,2),o=r[0],i=r[1],u=function(e){!function(e){m("".concat(O,"/").concat(e),{method:"DELETE"})}(e),i(!1),n(e)};return Object(w.jsxs)(C.a,{onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:o,trigger:Object(w.jsx)(h.a,{children:"Delete"}),children:[Object(w.jsx)(C.a.Header,{children:"Delete"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsx)(C.a.Description,{children:Object(w.jsx)("p",{children:"Are you sure in your choose?"})})}),Object(w.jsxs)(C.a.Actions,{children:[Object(w.jsx)(h.a,{color:"black",onClick:function(){return i(!1)},children:"No"}),Object(w.jsx)(h.a,{content:"Yes",labelPosition:"right",icon:"archive",onClick:function(){return u(t)},positive:!0})]})]})},N=function(e){var t=e.product,n=e.openProduct,c=e.onDelete;return Object(w.jsx)(D.a.Group,{className:"card-container",children:Object(w.jsxs)(D.a,{className:"card",children:[Object(w.jsx)(D.a.Image,{size:"small",src:t.imageUrl},b()(t.imageUrl)),Object(w.jsxs)(D.a.Content,{children:[Object(w.jsx)(D.a.Header,{children:t.name},b()(t.name)),Object(w.jsxs)(D.a.Meta,{children:[Object(w.jsx)("span",{className:"price",children:"Count: ".concat(t.count," |")},b()(t.count)),Object(w.jsx)("span",{className:"stay",children:t.weight},b()(t.weight))]},b()("item-meta")),Object(w.jsx)("p",{onClick:function(){return n(t.id)},className:"comments",comments:t.comments,children:"Description"},b()("comment"))]},b()("item-content")),Object(w.jsx)(E,{onDelete:c,id:t.id})]},b()("card"))},b()(t.id))},P=n(131),A=n.n(P),H=function(e){var t=e.onAdd,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),u=Object(j.a)(i,2),s=u[0],l=u[1],d=Object(c.useState)(!0),b=Object(j.a)(d,2),m=b[0],p=b[1],f=Object(c.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;p(!0),l((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(k.a)({id:A()("hello")},n,c))}))}),[]),x=Object(c.useCallback)((function(){void 0!==s.name&&void 0!==s.id&&void 0!==s.imageUrl&&void 0!==s.count&&void 0!==s.width&&void 0!==s.height&&void 0!==s.weight?(!function(e){fetch("".concat(O),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:e.id,imageUrl:e.imageUrl,name:e.name,count:e.count,size:{height:e.height,width:e.width},weight:"weight ".concat(e.weight)})}).then((function(e){return e.json()}))}(s),t(s),l(""),o(!1),p(!0)):p(!1)}),[s]);return Object(w.jsxs)(C.a,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,trigger:Object(w.jsx)(h.a,{children:"Add new product"}),children:[Object(w.jsx)(C.a.Header,{children:"Create product"}),Object(w.jsx)(C.a.Content,{image:!0,children:Object(w.jsxs)(v.a,{onSubmit:x,children:[Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.name,name:"name",type:"text",label:"Product name",placeholder:"Product name"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.imageUrl,name:"imageUrl",type:"text",label:"Image Url",placeholder:"Image Url"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.count,name:"count",type:"number",label:"Count",placeholder:"Count"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.width,name:"width",type:"number",label:"Width",placeholder:"Width"})]}),Object(w.jsxs)(v.a.Group,{children:[Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.height,name:"height",type:"number",label:"Height",placeholder:"Height"}),Object(w.jsx)(v.a.Input,{onChange:function(e){return f(e)},value:s.weight,name:"weight",type:"number",label:"Weight",placeholder:"Weight"})]}),!m&&Object(w.jsx)("div",{className:"error",children:"All input are required"}),Object(w.jsx)(h.a,{type:"submit",children:"Submit"}),Object(w.jsx)(h.a,{onClick:function(){return o(!1)},type:"reset",children:"Cancel"})]})})]})};var T=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),u=o[0],d=o[1],m=Object(c.useState)({}),p=Object(j.a)(m,2),f=p[0],x=p[1];Object(c.useEffect)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,fetch(O).then((function(e){if(!e.ok)throw new Error("can't upload your data");return e.json()}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]);var g=Object(c.useCallback)((function(){d(!1)}),[]),C=Object(c.useCallback)((function(e){switch(e){case"name":a((function(e){return Object(i.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}))}));break;case"count":a((function(e){return Object(i.a)(e).sort((function(e,t){return e.count-t.count}))}))}}),[]),v=Object(c.useCallback)((function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),y=Object(c.useCallback)((function(e){a((function(t){return[].concat(Object(i.a)(t),[e])}))}),[]),k=Object(c.useCallback)((function(e){d(!0),x(e)}),[]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{onClick:function(){return C("name")},children:"Sort by name"},b()("button-name")),Object(w.jsx)(h.a,{onClick:function(){return C("count")},children:"Sort by count"},b()("button-count")),Object(w.jsx)(H,{onAdd:y}),Object(w.jsx)("div",{className:"App",children:!u&&n.map((function(e){return Object(w.jsx)(N,{product:e,openProduct:k,onDelete:v},b()("card"))}))}),u&&Object(w.jsx)(U,{setProductsList:a,selectedProduct:f,closeDescription:g},b()(123))]})};o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(T,{})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.45f8250e.chunk.js.map